!function(){"use strict";angular.module("chartConfigurations",[]),angular.module("retailSalesPage",["chartConfigurations"]),angular.module("rxSalesPage",["chartConfigurations"]),angular.module("salesBarModule",[]),angular.module("salesDetailServiceModule",[]),angular.module("html2js",[]),angular.module("StoreNet",[]),angular.module("Horizon",["ngMaterial","ngAnimate","highchartUtil","ui.router","html2js","retailSalesPage","rxSalesPage","salesBarModule","ngResource","angular-loading-bar","StoreNet","salesDetailServiceModule"]).config(["$mdThemingProvider","$stateProvider","$urlRouterProvider","cfpLoadingBarProvider",function(e,l,a,r){r.includeSpinner=!1,e.theme("default").primaryPalette("blue",{"default":"400","hue-1":"100","hue-2":"600","hue-3":"A100"}).accentPalette("purple",{"default":"200"}),a.otherwise("/retailsales"),l.state("retailsales",{url:"/retailsales",controller:"retailSalesController",templateUrl:"html/retail_sales.html",controllerAs:"retailsales"}),l.state("rxsales",{url:"/rxsales",templateUrl:"html/rx_sales.html",controller:"rxSalesController",controllerAs:"rxsales"})}])}();
!function(a){try{a=angular.module("html2js")}catch(n){a=angular.module("html2js",[])}a.run(["$templateCache",function(a){a.put("html/retail_sales.html",'<div>\n  <!--  Body or Content-->\n  <md-content class="content-container">\n    <div layout="column" class="md-custom-padding" layout-wrap layout-align="center center">\n      <div class="md-toolbar-tools heading-container">\n        <h4>Department Sales</h4>\n        <span class="flex"></span>\n        <p>Sept 08 2016</p>\n      </div>\n      <!-- Sales bar with percentage starts -->\n      <sales-bar ng-if="!retailSalesBarData"></sales-bar>\n      <sales-bar sales-title="{{data.name}}" sales-value="{{data.value}}" sales-percentage="{{data.percent}}" ng-repeat="(key,data) in retailSalesBarData" ng-click=\'getDataToDrawChart(key)\'></sales-bar>\n      <!-- Sales bar with percentage ends -->\n    </div>\n    <div>\n      <md-card>\n        <md-content>\n          <high-chart chart-type="Chart" config="retailsales.data" show-loading="true"></high-chart>\n        </md-content>\n  </md-content>\n  </md-card>\n  <!--  Footer button -->\n  <div layout=\'row\' layout-align=\'center center\'>\n    <md-button class="md-raised md-primary footerbtn" ng-click="angular.noop()">\n      <label class=\'footerbtn-label\'>VIEW DETAILS</label>\n    </md-button>\n  </div>\n  </div>\n  </md-content>\n</div>')}])}();
!function(a){try{a=angular.module("html2js")}catch(n){a=angular.module("html2js",[])}a.run(["$templateCache",function(a){a.put("html/rx_sales.html",'<div>\n  <!--  Body or Content-->\n  <md-content class="content-container">\n    <div layout="column" class="md-custom-padding" layout-wrap layout-align="center center">\n      <div class="md-toolbar-tools heading-container">\n        <h4>RX Count - {{rxCount}}</h4>\n        <span class="flex"></span>\n        <p>Sept 08 2016</p>\n      </div>\n      <!-- Sales bar starts -->\n      <sales-bar ng-if="!rxSalesBarData"></sales-bar>    \n      <sales-bar sales-title="{{data.name}}" sales-count="{{data.value}}" ng-repeat="(key,data) in rxSalesBarData" ng-click=\'getDataToDrawChart(key)\'></sales-bar>\n      <!-- Sales bar starts -->\n    </div>\n    <div>\n      <md-card>\n        <md-content>\n          <high-chart chart-type="Chart" config="rxsales.data" show-loading="true"></high-chart>\n        </md-content>\n      </md-card>\n      <!--  Footer button -->\n      <div layout=\'row\' layout-align=\'center center\'>\n        <md-button class="md-raised md-primary footerbtn" ng-click="angular.noop()">\n          <label class=\'footerbtn-label\'>VIEW DETAILS</label>\n        </md-button>\n      </div>\n    </div>\n  </md-content>\n</div>\n')}])}();
!function(s){try{s=angular.module("html2js")}catch(e){s=angular.module("html2js",[])}s.run(["$templateCache",function(s){s.put("html/sales_bar.html",'<!-- need to be removed -->\n<md-button class="md-whiteframe-2dp rxBar btn" ng-if="!salesPercentage && !salesCount">\n  <div class="salesbtn">\n    <div class="sales">\n      <p>----</p>\n      <p class="value">-----</p>\n    </div>\n    <span class="flex"></span>    \n    <div class="responsive-circle percentage-circle-gray">\n      <div class="circle-inner">0%</div>\n    </div>\n  </div>\n</md-button>\n<!-- above need to be removed -->\n<md-button class="md-whiteframe-2dp rxBar btn" ng-if="salesPercentage && !salesCount">\n  <div class="salesbtn">\n    <div class="sales">\n      <p>{{salesTitle}}</p>\n      <p class="value">${{salesValue}}</p>\n    </div>\n    <span class="flex"></span>\n    <div class="responsive-circle percentage-circle-rxcolor">\n      <div class="circle-inner">{{salesPercentage}}%</div>\n    </div>\n  </div>\n</md-button>\n<md-button class="md-whiteframe-2dp rxBar btn" ng-if="!salesPercentage && salesCount">\n  <div class="salesbtn">\n    <div class="sales sales-rx">\n      <p>{{salesTitle}}</p>\n    </div>\n    <span class="flex"></span>\n    <div class="responsive-circle percentage-circle-rxcolor">\n      <div class="circle-inner">{{salesCount}}</div>\n    </div>\n  </div>\n</md-button>')}])}();
!function(){"use strict";angular.module("chartConfigurations").factory("areaChartConfig",function(){return function(){return{chart:{type:"area"},title:{text:"Chart",align:"left",x:20},scrollbar:{enabled:!1},exporting:{enabled:!1},xAxis:{allowDecimals:!1,labels:{format:"{value:%m/%d}",align:"left",step:1,maxTickInterval:1}},yAxis:{lineWidth:1,plotLines:[],gridLineWidth:0,title:{text:""},labels:{formatter:function(){return this.value}}},tooltip:{formatter:function(){return"<b>"+this.x+"</b>: "+this.y}},plotOptions:{area:{marker:{enabled:!1,symbol:"circle",radius:2,states:{hover:{enabled:!0}}}}},series:[]}}})}();
!function(){"use strict";angular.module("chartConfigurations").factory("chartUtil",function(){return{yAxis:function(){return{setTarget:function(t){return this.value=t,this},isPercentValue:function(t){return this.isPercent=t,this},getYaxisConfig:function(){var t=(this.value,this.isPercent,this.isPercent?this.value+"%":this.value),e={color:"#54a6dc",dashStyle:"solid",width:3,id:"plotline",label:{useHTML:!0,align:"center"}};return e.value=this.value,e.label.text='<div class="chart-target">Target - '+t+"</div>",e}}},formatter:function(t){return{format:function(){return"<b>"+Highcharts.dateFormat("%e-%b-%Y",new Date(this.x))+"</b><br/>"+t+": "+this.y}}}}})}();
!function(){"use strict";angular.module("StoreNet").constant("STORENET",{retail:"http://drmsap01.walgreens.com:8080/SNETMWBWeb/servlet/walgreens.mwb.servlet.MWBServlet/Page?pg=R&area=S&type=S&dtl=S&dv=59181&est=&tabid=2",rx:"http://drmsap01.walgreens.com:8080/SNETMWBWeb/servlet/walgreens.mwb.servlet.MWBServlet/Page?pg=R&area=K&type=S&dtl=S&dv=59181&tabid=3"})}();
!function(){function a(a,t,e,r,n,o){function i(){e.query({data:"retail-sales-bardata"}).$promise.then(function(t){a.retailSalesBarData=angular.fromJson(t),a.retailSalesBarData=a.retailSalesBarData.data},function(a){window.alert("Error: "+angular.toJson(a))})}function l(a){for(s.data.getChartObj().setTitle({text:"30 Day Sales Trend"});s.data.getChartObj().series.length>0;)s.data.getChartObj().series[0].remove(!0);s.data.getChartObj().addSeries({showInLegend:!1,data:a.data,color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgb(73, 245, 12)"],[1,"rgb(36, 125, 4)"]]}},!1),s.data.getChartObj().yAxis[0].removePlotLine("plotline"),s.data.getChartObj().yAxis[0].addPlotLine(n.yAxis().setTarget(a.target).isPercentValue(!0).getYaxisConfig()),s.data.getChartObj().redraw(),s.data.getChartObj().hideLoading()}var s=this,d=r();d.tooltip.formatter=n.formatter("Sales").format,d.yAxis.labels.formatter=function(){return this.value+"%"},s.data=d,a.openDetailPage=function(){t.location.href=o.retail},a.getDataToDrawChart=function(a){e.query({data:"retail-sales-graphdata-"+a}).$promise.then(function(a){a=angular.fromJson(a);var t={data:[],target:a.target};angular.forEach(a.data,function(a){t.data.push([Date.parse(a.data),a.value])}),l(t)},function(a){window.alert("Error: "+angular.toJson(a))})},i(),a.getDataToDrawChart("0")}a.$inject=["$scope","$window","salesDetailsService","areaChartConfig","chartUtil","STORENET"],angular.module("retailSalesPage").controller("retailSalesController",a)}();
!function(){function a(a,t,r,e,n,o){function i(){r.query({data:"rx-sales-bardata"}).$promise.then(function(t){a.rxSalesBarData=angular.fromJson(t),a.rxSalesBarData=a.rxSalesBarData.data,angular.forEach(a.rxSalesBarData,function(t){a.rxCount+=t.value})},function(a){window.alert("Error: "+angular.toJson(a))})}function l(a){for(s.data.getChartObj().setTitle({text:"30 Day RX Count"});s.data.getChartObj().series.length>0;)s.data.getChartObj().series[0].remove(!0);s.data.getChartObj().addSeries({showInLegend:!1,data:a.data,color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgb(73, 245, 12)"],[1,"rgb(36, 125, 4)"]]}},!1),s.data.getChartObj().yAxis[0].removePlotLine("plotline"),s.data.getChartObj().yAxis[0].addPlotLine(n.yAxis().setTarget(a.target).isPercentValue(!0).getYaxisConfig()),s.data.getChartObj().redraw(),s.data.getChartObj().hideLoading()}var s=this,d=e();d.tooltip.formatter=n.formatter("Count").format,d.yAxis.labels.formatter=function(){return this.value+"%"},s.data=d,a.rxCount=0,a.openDetailPage=function(){t.location.href=o.rx},a.getDataToDrawChart=function(a){r.query({data:"rx-sales-graphdata-"+a}).$promise.then(function(a){a=angular.fromJson(a);var t={data:[],target:a.target};angular.forEach(a.data,function(a){t.data.push([Date.parse(a.data),a.value])}),l(t)},function(a){window.alert("Error: "+angular.toJson(a))})},i(),a.getDataToDrawChart("0")}a.$inject=["$scope","$window","salesDetailsService","areaChartConfig","chartUtil","STORENET"],angular.module("rxSalesPage").controller("rxSalesController",a)}();
!function(){"use strict";angular.module("salesDetailServiceModule").factory("salesDetailsService",["$resource",function(e){return e("https://demo7102987.mockable.io/:data.json",{},{query:{method:"GET"}})}])}();
!function(){"use strict";function e(){return{scope:{salesTitle:"@",salesValue:"@",salesPercentage:"@",salesCount:"@"},link:function(){},templateUrl:"html/sales_bar.html",restrict:"E"}}angular.module("salesBarModule").directive("salesBar",e)}();
!function(o){"use strict";o.toolbox&&o.toolbox.router.get("/(.*)",o.toolbox.fastest,{origin:/\.(?:googleapis|gstatic)\.com$/})}(self);
!function(){"use strict";var o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||o)&&navigator.serviceWorker.register("service-worker.js").then(function(o){o.onupdatefound=function(){if(navigator.serviceWorker.controller){var n=o.installing;n.onstatechange=function(){switch(n.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(o){console.error("Error during service worker registration:",o)})}();
